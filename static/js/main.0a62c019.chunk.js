(this["webpackJsonpcountry-shapes"]=this["webpackJsonpcountry-shapes"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),o=n(28),i=n.n(o),s=n(4),l=n(6),u=n.n(l),d=n(8),j="https://Jozefpodlecki.github.io/geo-shapes",b=n(69),p=n.n(b),f=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/assets/geoObjects.json")).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.search.toLowerCase().includes(t.phrase)})).slice(0,t.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return fetch("".concat(j,"/assets/regions/").concat(e,".json")).then((function(e){return e.json()}))},v=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/assets/geoObjects.json")).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e.countryCode.includes(t)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return fetch("".concat(j,"/assets/shapes/").concat(e,"/first-level.svg")).then((function(e){return e.text()}))},m=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=5;break}return e.next=3,fetch("".concat(j,"/assets/geojson/countries.geojson")).then((function(e){return e.json()}));case 3:a=e.sent,c=new p.a(a);case 5:if(!(r=c.search(t,n))){e.next=10;break}return console.log(r),e.abrupt("return",r.properties.ISO_A3);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/assets/geoObjects.json")).then((function(e){return e.json()}));case 2:return n=e.sent,c=n.find((function(e){return e.iso3166a3===t})),e.abrupt("return",fetch("".concat(j,"/assets/geojson/").concat(null===c||void 0===c?void 0:c.countryCode,".geojson")).then((function(e){return e.json()})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return fetch("".concat(j,"/assets/geojson/").concat(e,".geojson")).then((function(e){return e.json()}))},_=n(367),y=n(370),w=n(368),N=n(369),S=n(14),k=n(39),C=n.n(k),E=(n(86),n(2)),L=function(e){var t=e.onMouseEnter,n=e.onMouseLeave,c=e.onMouseMove,r=e.svg,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=o.current;if(e){var a=e.firstChild;if(a instanceof SVGElement){var r=a.querySelector("g").getBoundingClientRect();r.y,r.width,r.height;return a.addEventListener("mousemove",c),a.addEventListener("mouseenter",t),a.addEventListener("mouseleave",n),function(){a.removeEventListener("mousemove",c),a.addEventListener("mouseenter",t),a.addEventListener("mouseleave",n)}}}}),[o]),Object(E.jsx)("div",{className:"country-page__svg",ref:o,dangerouslySetInnerHTML:{__html:r}})},M=Object(a.memo)(L),T=(n(88),function(e){var t,n=e.flagUrl,c=e.fullName,a=e.mapType,r=e.onMapChange,o=function(e){var t=e.currentTarget.dataset.mapoption;r(t)};return Object(E.jsxs)("div",{className:"country-page__navbar",children:[Object(E.jsxs)("div",{className:"country-page__navbarCountry",children:[Object(E.jsx)("div",{className:"country-page__navbarCountryFlag",style:(t=j+n,{background:"url(".concat(t,") center center / contain no-repeat")})}),Object(E.jsx)("div",{className:"country-page__navbarCountryTitle",children:c})]}),Object(E.jsxs)("div",{className:"country-page__navbarMapSwitch",children:[Object(E.jsx)("div",{onClick:o,"data-mapoption":"leaflet",className:"country-page__navbarMapOption ".concat("leaflet"===a?"country-page__navbarMapOption--selected":null),children:"Leaflet"}),Object(E.jsx)("div",{onClick:o,"data-mapoption":"svg",className:"country-page__navbarMapOption ".concat("svg"===a?"country-page__navbarMapOption--selected":null),children:"Svg"})]})]})}),B=Object(a.memo)(T),D=n(5),P=n(15),H=(n(89),function(e){var t=e.x,n=e.y,c=e.show,a=e.children,r=Object(P.useSpring)({opacity:c?1:0});return Object(E.jsx)(P.animated.div,{className:"tooltip",style:Object(D.a)(Object(D.a)({},r),{},{top:"".concat(n-60,"px"),left:"".concat(t-90,"px"),display:r.opacity.to((function(e){return 0===e?"none":"block"}))}),children:a})}),R=(n(90),function(e){var t=e.hasEntered,n=e.region,c=e.x,a=e.y;return Object(E.jsx)(H,{show:t&&!!n,x:c,y:a,children:n?Object(E.jsxs)("div",{className:"region",children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"region__image",src:j+n.flagUrl})}),Object(E.jsxs)("div",{className:"region__info",children:[Object(E.jsxs)("div",{children:["Region: ",n.region]}),Object(E.jsxs)("div",{children:["Capital: ",n.capital]})]})]}):null})}),z=Object(a.memo)(R),A=(n(91),n(48)),I=n(7),F=n(17),G=(n(97),function(e){return Object(A.a)(e),Object(E.jsxs)("div",{className:"country-page__info",children:[Object(E.jsx)("div",{children:Object(E.jsx)(F.a,{size:"10x",icon:I.k})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"country-page__infoTitle",children:"Page is under construction"}),Object(E.jsx)("div",{className:"country-page__infoDescription",children:"The data required for this page might not be prepared or an error occurred while loading it."})]})]})}),V=Object(a.memo)(G),J=function(){var e=Object(N.a)({click:function(t){console.log(e.getCenter(),e.getZoom(),t.latlng)}});return null},W=function(){var e=Object(a.useState)({x:-1,y:-1}),t=Object(s.a)(e,2),n=t[0],c=n.x,r=n.y,o=t[1],i=Object(a.useState)({regions:[],isLoading:!0,hasError:!1}),l=Object(s.a)(i,2),j=l[0],b=l[1],p=Object(a.useState)(),f=Object(s.a)(p,2),m=f[0],x=f[1],N=Object(a.useState)(!1),k=Object(s.a)(N,2),L=k[0],T=k[1],D=Object(a.useState)("leaflet"),P=Object(s.a)(D,2),H=P[0],R=P[1],A=Object(a.useState)(),I=Object(s.a)(A,2),F=I[0],G=I[1],W=Object(a.useState)(""),U=Object(s.a)(W,2),Y=U[0],q=U[1],X=Object(S.f)().countryCode;Object(a.useEffect)((function(){X&&j.isLoading&&Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(X);case 3:return t=e.sent,e.next=6,O(X);case 6:if(n=e.sent,t){e.next=10;break}return b({hasError:!0,isLoading:!1}),e.abrupt("return");case 10:b({country:t,regions:n,isLoading:!1,hasError:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),b({hasError:!0,isLoading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[j,X]);var Z=Object(a.useCallback)((function(e){if(!j.isLoading&&!j.hasError&&(o({x:e.clientX,y:e.clientY}),e.target instanceof SVGElement)){var t=e.target.id;if(t){var n=j.regions.find((function(e){return e.id===t}));n&&x(n)}else x(void 0)}}),[j]);return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"svg"!==H){e.next=8;break}return e.next=4,g(X);case 4:t=e.sent,q(t),e.next=12;break;case 8:return e.next=10,h(X);case 10:n=e.sent,G(n);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})))()}),[H]),Object(E.jsx)("div",{className:"country-page ".concat(j.isLoading||j.hasError?"center":null),children:j.isLoading?Object(E.jsx)(C.a,{color:"white",size:15}):j.hasError?Object(E.jsx)(V,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(B,{flagUrl:j.country.flagUrl,fullName:j.country.fullName,mapType:H,onMapChange:R}),Object(E.jsx)(z,{hasEntered:L,x:c,y:r,region:m}),Object(E.jsx)("div",{className:"country-page__map",children:"svg"===H?Object(E.jsx)(M,{onMouseEnter:function(){T(!0)},onMouseLeave:function(){T(!1)},onMouseMove:Z,svg:Y}):Object(E.jsxs)(_.a,{zoom:j.country.zoom,center:j.country.center,scrollWheelZoom:!0,className:"country-page__leafletMap",children:[Object(E.jsx)(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),F?Object(E.jsx)(w.a,{data:F}):null,Object(E.jsx)(J,{})]})}),Object(E.jsx)("div",{className:"country-page__footer"})]})})},U=(n(103),n(24)),Y=function(e){var t=e.onSearch;return Object(E.jsxs)("div",{className:"toolbar",children:[Object(E.jsxs)(U.b,{className:"toolbar__logo",to:"/",children:[Object(E.jsx)("div",{className:"toolbar__logoText",children:"Geo-shapes"}),Object(E.jsx)("div",{className:"toolbar__logoIcon",children:Object(E.jsx)(F.a,{icon:I.j})})]}),Object(E.jsxs)("div",{className:"toolbar__menu",children:[Object(E.jsx)(U.c,{activeClassName:"toolbar__iconButton--selected",className:"toolbar__iconButton",exact:!0,to:"/",children:Object(E.jsx)(F.a,{icon:I.l})}),Object(E.jsx)(U.c,{activeClassName:"toolbar__iconButton--selected",className:"toolbar__iconButton",exact:!0,to:"/explore",children:Object(E.jsx)(F.a,{icon:I.h})}),Object(E.jsx)(U.c,{activeClassName:"toolbar__iconButton--selected",className:"toolbar__iconButton",exact:!0,to:"/draw",children:Object(E.jsx)(F.a,{icon:I.n})}),Object(E.jsx)("div",{className:"toolbar__iconButton",onClick:t,children:Object(E.jsx)(F.a,{icon:I.o})})]})]})},q=Object(a.memo)(Y),X=n(71),Z=n.n(X),K=(n(104),function(e){var t=e.capital,n=e.countryCode,c=e.flagUrl,r=e.fullName,o=e.id,i=e.thumbnailUrl,l=(e.type,e.onClick),u=Object(a.useState)(j+i),d=Object(s.a)(u,2),b=d[0],p=d[1];return Object(a.useEffect)((function(){if(b){var e=new Image;e.onerror=function(){return p(void 0)},e.src=b}}),[b]),Object(E.jsxs)("div",{className:"geoObject",children:[Object(E.jsx)("div",{className:"geoObject__imageWrapper",children:Object(E.jsx)("div",{className:"geoObject__image",style:{background:b?"url(".concat(b,") center center / cover"):"gray"}})}),Object(E.jsxs)(U.b,{className:"geoObject__link",onClick:l,to:"/country/".concat(n),children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"geoObject__name",children:r}),Object(E.jsx)("div",{className:"geoObject__type",children:t})]}),Object(E.jsx)("div",{className:"geoObject__flag",style:{background:"url(".concat(j+c,") center center / cover")}})]})]},o)}),Q=Object(a.memo)(K),$=(n(105),function(e){var t=e.value,n=e.onChange,c=e.onClear,r=Object(a.useCallback)((function(e){var t=e.currentTarget.value;n(t)}),[]);return Object(E.jsxs)("div",{className:"searchbox ".concat(t?"searchbox--typed":""),children:[Object(E.jsx)("div",{className:"searchbox__icon ".concat(t?"searchbox__icon--active":""),children:Object(E.jsx)(F.a,{icon:I.o})}),Object(E.jsx)("input",{type:"text",value:t,onChange:r,className:"searchbox__input",placeholder:"I am looking for..."}),t?Object(E.jsx)("div",{onClick:c,className:"searchbox__clearIcon",children:Object(E.jsx)(F.a,{icon:I.p})}):null]})}),ee=n(20),te=(n(106),["className","onClick","icon","disabled"]),ne=function(e){var t=e.className,n=e.onClick,c=e.icon,a=e.disabled,r=void 0!==a&&a,o=Object(ee.a)(e,te);return Object(E.jsx)("div",Object(D.a)(Object(D.a)({},o),{},{onClick:n,className:"icon ".concat(r?"icon--disabled":""," ").concat(n?"icon--interactive":""," ").concat(t),children:Object(E.jsx)(F.a,{icon:c})}))},ce=Object(a.memo)(ne),ae=(n(107),function(e){var t=e.isShowing,n=e.onHide,c=e.onClick,r=Object(a.useState)({isLoading:!0,items:[]}),o=Object(s.a)(r,2),i=o[0],l=i.isLoading,j=i.items,b=o[1],p=Object(a.useState)(""),O=Object(s.a)(p,2),v=O[0],g=O[1],m=Z()(v,1e3),x=Object(s.a)(m,1)[0],h=Object(P.useSpring)({opacity:t?1:0}),_=Object(a.useCallback)((function(){g("")}),[]);return Object(a.useEffect)((function(){b({isLoading:!0,items:[]})}),[v]),Object(a.useEffect)((function(){t?Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({pageSize:10,phrase:x});case 2:t=e.sent,b({isLoading:!1,items:t});case 4:case"end":return e.stop()}}),e)})))():(b({isLoading:!0,items:[]}),g(""))}),[t,x]),Object(E.jsxs)(P.animated.div,{style:Object(D.a)(Object(D.a)({},h),{},{display:h.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"searchDialog ".concat(""),children:[Object(E.jsx)("div",{className:"searchDialog__navbar",children:Object(E.jsx)(ce,{onClick:n,className:"searchDialog__close",icon:I.p})}),Object(E.jsxs)("div",{className:"searchDialog__body",children:[Object(E.jsx)("div",{className:"searchDialog__top",children:Object(E.jsx)($,{onChange:g,onClear:_,value:v})}),Object(E.jsx)("div",{className:"searchDialog__list ".concat(l?"searchDialog__list--center":""),children:l?Object(E.jsx)(C.a,{color:"white",size:15}):j.map((function(e){return"country"===e.type&&Object(E.jsx)(Q,Object(D.a)({onClick:c},e),e.id)}))})]})]})}),re=n(31),oe=n(18),ie=n(72),se=n.n(ie),le=n(41),ue=6378137,de=Math.PI/180,je=180/Math.PI;function be(e){return e*de}function pe(e){return e*je}function fe(e,t,n,c){var a=be(e[1]),r=be(e[0]),o=t/n,i=Math.cos(o),s=Math.cos(a),l=Math.sin(o),u=Math.sin(a),d=Math.asin(u*i+s*l*Math.cos(c));return[pe(r+Math.atan2(Math.sin(c)*l*s,i-u*Math.sin(d))),pe(d)]}function Oe(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function ve(e){return null===e||void 0===e}function ge(e,t,n){for(var c=function(e){if(ve(e))return 64;if(Oe(e)){var t=e.numberOfEdges;return void 0===t?64:t}return 64}(n),a=function(e){if(ve(e))return ue;if(Oe(e)){var t=e.earthRadius;return void 0===t?ue:t}return ue}(n),r=function(e){if(ve(e))return 0;if(Oe(e)){var t=e.bearing;return void 0===t?0:t}return 0}(n),o=function(e){return Oe(e)&&e.rightHandRule?-1:1}(n),i=be(r),s=new Array,l=0;l<c;++l){var u=fe(e,t,a,i+2*o*Math.PI*-l/c);s.push(u)}return s.push(s[0]),{type:"Polygon",coordinates:[s]}}var me=function(){return"_"+Math.random().toString(36).substr(2,9)},xe=function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=e,n.download=t,n.click()},he=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var n=new FileReader;n.onload=function(){var t=n.result;e(t)},n.readAsText(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=/(-?\d*\.?\d+)[,\s]*(-?\d*\.?\d+)/,ye=function(e){try{var t=JSON.parse(e);if(Array.isArray(t)){if(!t.length||"number"!==typeof t[0])return;return{type:"LineString",coordinates:[t]}}return t}catch(o){try{return Object(le.parse)(e)}catch(o){}}var n=_e.exec(e);if(n&&3===n.length){var c=Object(s.a)(n,3),a=c[1],r=c[2];return{type:"Point",coordinates:[Number(a),Number(r)]}}},we=function(e){try{return localStorage.setItem("saved",JSON.stringify(e)),!0}catch(t){return!1}},Ne=n(371),Se={type:"Polygon",coordinates:[[]]},ke=function(e){var t=e.drawOption,n=e.geoObjects,c=e.onChange,r=Object(a.useState)(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],u=Object(a.useState)({lat:50,lng:-1}),d=Object(s.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)(!1),f=Object(s.a)(p,2),O=f[0],v=f[1],g=Object(a.useState)(!1),m=Object(s.a)(g,2),x=m[0],h=m[1],_=Object(a.useState)(10),y=Object(s.a)(_,2),S=y[0],k=y[1],C=Object(a.useState)(Se),L=Object(s.a)(C,2),M=L[0],T=L[1],B=Object(N.a)({click:function(e){if(O||"circle"!==t||(B.dragging.disable(),v(!0),b(e.latlng),k(100)),!x&&O&&"circle"===t&&(B.dragging.enable(),h(!0)),"polygon"===t){var n=e.latlng,c=n.lat,a=[n.lng,c];T((function(e){var t=[].concat(Object(oe.a)(e.coordinates[0]),[a]);return Object(D.a)(Object(D.a)({},e),{},{coordinates:[t]})}))}if("lineString"===t){var r=e.latlng,o=r.lat,i=[r.lng,o];T((function(e){var t=[].concat(Object(oe.a)(e.coordinates),[i]);return Object(D.a)(Object(D.a)({},e),{},{coordinates:t})}))}},mouseup:function(e){},mousemove:function(e){if(O&&!x&&"circle"===t){var n=e.latlng.distanceTo(j);k(n)}}});Object(a.useEffect)((function(){if(x&&"lineString"===t&&(c({id:me(),data:M}),T(Se),h(!1)),x&&"polygon"===t&&(c({id:me(),data:M}),T(Se),h(!1)),x&&"circle"===t){var e=ge([j.lng,j.lat],S);v(!1),h(!1),c({id:me(),data:e})}}),[t,x]),Object(a.useEffect)((function(){"none"!==t&&("polygon"===t&&"Polygon"===M.type||"circle"===t&&"Polygon"===M.type||"lineString"===t&&"LineString"===M.type||T((function(e){var n="LineString",c=[];return"lineString"===t&&(n="LineString",c=[]),"circle"===t&&(n="Polygon",c=[[]]),"polygon"===t&&(n="Polygon",c=[[]]),{type:n,coordinates:c}})))}),[M,t]);var P=function(e){"Enter"===e.key&&h(!0)};return Object(a.useEffect)((function(){return window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}}),[]),Object(E.jsxs)(E.Fragment,{children:[x||"circle"!==t?null:Object(E.jsx)("div",{className:"draw-page__popup",children:"To draw a circle, click on the map, move mouse to set radius and click to finish"}),x||"lineString"!==t?null:Object(E.jsx)("div",{className:"draw-page__popup",children:"To draw a line string, click on the map and press enter to finish"}),x||"polygon"!==t?null:Object(E.jsx)("div",{className:"draw-page__popup",children:"To draw a polygon, click on the map and press enter to finish"}),n.map((function(e){return Object(E.jsx)(w.a,{data:e.data},e.id)})),Object(E.jsx)(w.a,{data:M},Math.random()),O?Object(E.jsx)(Ne.a,{eventHandlers:{mousemove:function(e){i&&b(e.latlng)},mousedown:function(e){l(!0),B.dragging.disable()},mouseup:function(e){l(!1),B.dragging.enable()}},center:j,radius:S}):null]})},Ce=n(49),Ee=n.n(Ce),Le=n(50),Me=n.n(Le),Te=(n(321),function(e){var t=e.id,n=e.isShowing,c=e.onHide,r=e.onExport,o=e.data,i=e.exportType,s=Object(a.useRef)(null),l=Object(P.useSpring)({opacity:n?1:0}),u="geojson"===i?Ee()(o):o;return Object(a.useEffect)((function(){var e=s.current;if(e){var t=function(t){var n=t.target;e.contains(n)||c()};return n&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}}),[s,n]),Object(E.jsx)(P.animated.div,{ref:s,style:Object(D.a)(Object(D.a)({},l),{},{display:l.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"preview-dialog__overlay",children:Object(E.jsxs)("div",{className:"preview-dialog",children:[Object(E.jsxs)("div",{className:"preview-dialog__topBar",children:[Object(E.jsxs)("div",{className:"preview-dialog__right",children:[Object(E.jsx)(ce,{onClick:function(){navigator.clipboard.writeText(u)},className:"",icon:I.b}),Object(E.jsx)(ce,{onClick:function(){return r(t)},className:"",icon:I.e})]}),Object(E.jsx)(ce,{onClick:c,className:"preview-dialog__close",icon:I.p})]}),Object(E.jsx)("div",{className:"preview-dialog__body",children:o?Object(E.jsx)(Me.a,{className:"geojson"===i?"json":"none",children:u}):null})]})})}),Be=(n(322),function(e){var t=e.drawOption,n=e.exportType,c=e.data,a=e.onChange,r=e.onExport,o=e.onPreview,i=e.onHide,s=e.onRemoveShapes,l=e.isPreviewShowing,u=!e.dataAvailable,d=function(e){var t=e.currentTarget.dataset.id;a({drawOption:t,exportType:n})},j=function(e){var n=e.currentTarget.dataset.id;a({drawOption:t,exportType:n})};return Object(E.jsxs)("div",{className:"draw-page__panel",children:[Object(E.jsxs)("div",{className:"draw-page__topBar",children:["Remove shapes ",Object(E.jsx)(ce,{disabled:u,onClick:s,className:"",icon:I.q})]}),Object(E.jsxs)("div",{className:"draw-page__toolbox",children:[Object(E.jsx)(ce,{"data-id":"polygon",onClick:d,className:"draw-page__tool ".concat("polygon"===t?"selected":""),icon:I.f}),Object(E.jsx)(ce,{"data-id":"lineString",onClick:d,className:"draw-page__tool ".concat("lineString"===t?"selected":""),icon:I.n}),Object(E.jsx)(ce,{"data-id":"circle",onClick:d,className:"draw-page__tool ".concat("circle"===t?"selected":""),icon:I.a})]}),Object(E.jsxs)("div",{className:"export-section",children:[Object(E.jsx)("div",{className:"export-section__title",children:"Export"}),Object(E.jsxs)("div",{className:"export",children:[Object(E.jsx)("div",{"data-id":"geojson",onClick:j,className:"export__option ".concat("geojson"===n?"export__option--selected":""),children:"Geojson"}),Object(E.jsx)("div",{"data-id":"wkt",onClick:j,className:"export__option ".concat("wkt"===n?"export__option--selected":""),children:"WKT"})]}),Object(E.jsx)(Te,{id:null===c||void 0===c?void 0:c.id,data:c,onExport:r,onHide:i,isShowing:l,exportType:n}),Object(E.jsxs)("div",{className:"payload",children:[Object(E.jsx)(ce,{disabled:u,onClick:o,className:"payload__option",icon:I.h}),Object(E.jsx)(ce,{disabled:u,onClick:r,className:"payload__option",icon:I.b}),Object(E.jsx)(ce,{disabled:u,onClick:function(){navigator.clipboard.writeText(JSON.stringify(c))},className:"payload__option",icon:I.e})]})]})]})}),De=Object(a.memo)(Be),Pe=(n(323),function(e){Object(A.a)(e);var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)("none"),j=Object(s.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)("geojson"),O=Object(s.a)(f,2),v=O[0],g=O[1],m=Object(a.useState)(),x=Object(s.a)(m,2),h=x[0],w=x[1];return Object(E.jsxs)("div",{className:"draw-page",children:[Object(E.jsx)(De,{drawOption:b,exportType:v,onChange:function(e){p(e.drawOption),g(e.exportType)},onExport:function(){},onPreview:function(){if("wkt"===v){if(1===c.length){var e=Object(le.stringify)(c[0].data);return e=e.replace(/,/g,",\n"),w(e),void u(!0)}var t,n="",a=Object(re.a)(c);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=Object(le.stringify)(r.data);n+="\n"+(o=o.replace(/,/g,",\n"))}}catch(s){a.e(s)}finally{a.f()}return w(n),void u(!0)}if(!c.length)return w(""),void u(!0);if(1===c.length)return w(c[0].data),void u(!0);var i={type:"FeatureCollection",features:Object(oe.a)(c.map((function(e){return{type:"Feature",geometry:e.data,properties:{}}})))};w(i),u(!0)},onHide:function(){return u(!1)},onRemoveShapes:function(){return r([])},data:h,dataAvailable:!!c.length,isPreviewShowing:l}),Object(E.jsxs)(_.a,{zoom:4,center:[51.505,-.09],scrollWheelZoom:!0,className:"draw-page__map",children:[Object(E.jsx)(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(E.jsx)(ke,{onChange:function(e){r((function(t){return[].concat(Object(oe.a)(t),[e])})),p("none")},geoObjects:c,drawOption:b})]})]})}),He=n(74),Re=n(51),ze=n(30),Ae=(n(324),function(e){var t=e.id,n=e.isSelected,c=e.loadedAt,a=e.name,r=e.featuresCount,o=e.warning,i=e.onDelete,s=e.onShowOnMap,l=e.onShowGeojson,u=e.onShowWarning,d=e.onExport,j=e.onToggle;return Object(E.jsxs)("div",{className:"uploaded-item ".concat(n?"selected":""),children:[Object(E.jsxs)("div",{className:"uploaded-item__topBar",children:[Object(E.jsxs)("div",{"data-id":t,onClick:j,children:[Object(E.jsx)("div",{className:"uploaded-item__title",children:a}),Object(E.jsxs)("div",{className:"uploaded-item__detail",children:["Loaded at: ",new Date(c).toLocaleString()]})]}),Object(E.jsx)(ce,{"data-id":t,className:"uploaded-item__delete",onClick:i,icon:I.p})]}),Object(E.jsxs)("div",{className:"uploaded-item__body",children:[Object(E.jsx)(ce,{className:"popup__iconButton",onClick:function(){return s(t)},icon:I.d}),r?Object(E.jsxs)("div",{className:"uploaded-item__detail",children:["Features: ",r]}):null,Object(E.jsx)(ce,{className:"popup__iconButton",onClick:function(){return d(t)},icon:I.e}),Object(E.jsx)(ce,{className:"popup__iconButton",onClick:function(){return l(t)},icon:I.c}),o?Object(E.jsx)(ce,{className:"popup__iconButton",onClick:function(){return u(t)},icon:I.g}):null]})]})}),Ie=(n(325),function(e){var t=e.isShowing,n=Object(P.useSpring)({opacity:t?1:0});return Object(E.jsx)(P.animated.div,{style:Object(D.a)(Object(D.a)({},n),{},{display:n.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"explore-page__dropOverlay",children:Object(E.jsxs)("div",{className:"explore-page__dropModal",children:[Object(E.jsx)("div",{children:Object(E.jsx)(F.a,{size:"5x",icon:I.i})}),Object(E.jsx)("div",{className:"explore-page__dropModalText",children:"Drop geojson/json array lat lng or lat lng"})]})})}),Fe=Object(a.memo)(Ie),Ge=(n(326),function(e){var t=e.id,n=e.data,c=e.eventHandlers,r=e.isSelected,o=Object(a.useMemo)((function(){return{color:r?"blue":"gray"}}),[r]),i=Object(a.useCallback)((function(e){e.id=t}),[t]);return Object(E.jsx)(w.a,{data:n,"data-id":t,style:o,eventHandlers:c,onEachFeature:i})}),Ve=Object(a.memo)(Ge),Je=(n(327),function(e){var t,n=e.x,c=e.y,r=e.isShowing,o=e.onAction,i=e.onHide,s=Object(a.useRef)(null),l=Object(P.useSpring)({opacity:r?1:0});Object(a.useEffect)((function(){var e=s.current;if(e){var t=function(t){var n=t.target;e.contains(n)||i()};return r&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}}),[s,r]);var u=function(e){var t=e.currentTarget.dataset.action;o(t)},d=((null===s||void 0===s||null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect())||{height:0}).height;return Object(E.jsx)(P.animated.div,{ref:s,style:Object(D.a)(Object(D.a)({},l),{},{top:"".concat(c-d/2,"px"),left:"".concat(n,"px"),display:l.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"menu__overlay",children:Object(E.jsxs)("div",{className:"menu",children:[Object(E.jsx)("div",{className:"menu__item",onClick:u,"data-action":"nearby-country",children:"Get nearby country"}),Object(E.jsx)("div",{className:"menu__item",onClick:u,"data-action":"nearby-continent",children:"Get nearby continent"})]})})}),We=function(e){var t=e.geojsonObjects,n=e.center,c=Object(a.useState)({x:0,y:0,latlng:{lat:-1,lng:-1},isShowing:!1}),r=Object(s.a)(c,2),o=r[0],i=r[1],l=Object(N.a)({click:function(e){var t=e.propagatedFrom;if(t&&t.feature)e.propagatedFrom.feature.id},contextmenu:function(e){var t=e.originalEvent;t.preventDefault();var n=t.clientX,c=t.clientY,a=e.latlng;i({x:n,y:c,latlng:a,isShowing:!0})}});Object(a.useEffect)((function(){l.setView(n)}),[n]);var j=Object(a.useMemo)((function(){return{click:function(e){var t=e.sourceTarget;if("feature"in t)t.feature.id}}}),[]),b=function(){return i((function(e){return Object(D.a)(Object(D.a)({},e),{},{isShowing:!1})}))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Je,Object(D.a)(Object(D.a)({},o),{},{onAction:function(e){if("nearby-country"===e){var t=o.latlng,n=t.lat,c=t.lng;Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(c,n);case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,x(t);case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))()}b()},onHide:b})),t.filter((function(e){return!e.invalid})).map((function(e){return Object(E.jsx)(Ve,Object(D.a)(Object(D.a)({},e),{},{eventHandlers:j,data:e.data}),e.id)}))]})},Ue=(n(328),function(e){var t=e.id,n=e.isShowing,c=e.onHide,r=e.onExport,o=e.data,i=Object(a.useRef)(null),s=Object(P.useSpring)({opacity:n?1:0}),l=Ee()(o);return Object(a.useEffect)((function(){var e=i.current;if(e){var t=function(t){var n=t.target;e.contains(n)||c()};return n&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}}),[i,n]),Object(E.jsx)(P.animated.div,{ref:i,style:Object(D.a)(Object(D.a)({},s),{},{display:s.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"preview-dialog__overlay",children:Object(E.jsxs)("div",{className:"preview-dialog",children:[Object(E.jsxs)("div",{className:"preview-dialog__topBar",children:[Object(E.jsxs)("div",{className:"preview-dialog__right",children:[Object(E.jsx)(ce,{onClick:function(){navigator.clipboard.writeText(l)},className:"",icon:I.b}),Object(E.jsx)(ce,{onClick:function(){return r(t)},className:"",icon:I.e})]}),Object(E.jsx)(ce,{onClick:c,className:"preview-dialog__close",icon:I.p})]}),Object(E.jsx)("div",{className:"preview-dialog__body",children:o?Object(E.jsx)(Me.a,{className:"json",children:l}):null})]})})}),Ye=(n(329),function(e){var t=e.isShowing,n=e.onHide,c=e.warning,r=Object(a.useRef)(null),o=Object(P.useSpring)({opacity:t?1:0});return Object(a.useEffect)((function(){var e=r.current;if(e){var c=function(t){var c=t.target;e===c&&n()};return t&&window.addEventListener("click",c),function(){window.removeEventListener("click",c)}}}),[r,t]),Object(E.jsx)(P.animated.div,{ref:r,style:Object(D.a)(Object(D.a)({},o),{},{display:o.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"warning-dialog__overlay",children:Object(E.jsxs)("div",{className:"warning-dialog",children:[Object(E.jsx)(ce,{onClick:n,className:"warning-dialog__closeIcon",icon:I.p}),Object(E.jsxs)("div",{className:"warning-dialog__body",children:[Object(E.jsx)(ce,{className:"warning-dialog__warningIcon",icon:I.g}),Object(E.jsx)("div",{className:"warning-dialog__text",children:c})]})]})})}),qe=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),o=Object(s.a)(r,2),i=o[0],l=o[1],j=Object(a.useState)({id:"",warning:"",data:{type:"Point"}}),b=Object(s.a)(j,2),p=b[0],f=p.id,O=p.warning,v=p.data,g=b[1],m=Object(a.useState)(),x=Object(s.a)(m,2),h=x[0],w=x[1],N=Object(a.useState)([51.505,-.09]),S=Object(s.a)(N,2),k=S[0],C=S[1],L=Object(a.useCallback)((function(e){e.length&&(l(!0),Object(d.a)(u.a.mark((function t(){var a,r,o,i,s,d,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Array,r=Object(re.a)(e),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=16;break}return i=o.value,t.next=8,he(i);case 8:s=t.sent,d=ye(s),0,j={id:me(),name:i.name,fileName:i.name,loadedAt:new Date,isSelected:!1,featuresCount:0,data:d,invalid:!d},a.push(j),we(a)||(j.warning="We could not save geo-object to local storage. The file size is too big.");case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:a=a.concat(n),c(a),l(!1);case 27:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})))())}),[n]),M=Object(He.a)({onDrop:L}),T=M.getRootProps,B=M.isDragActive;Object(a.useEffect)((function(){var e=localStorage.getItem("saved");e&&new Promise((function(){var t=JSON.parse(e);c(t),l(!1)}))}),[]),Object(a.useEffect)((function(){var e=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.readText();case 3:t.sent,setTimeout(e,2e3),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();setTimeout(e,2e3)}),[]);var P=function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text");if(n){var a=ye(n);if(a){var r=function(e){var t="";if(e)switch(e.type){case"Feature":t+="feature";var n=e;if("Polygon"===n.geometry.type){t+="_polygon";var c=n.geometry.coordinates;if(c.length&&c[0].length){var a=c[0].length;t+="_".concat(a)}}break;case"Point":case"Polygon":t+="point";break;case"LineString":t+="linestring";break;case"FeatureCollection":t+="features_".concat(e.features.length)}return t+se()().format("_YYYYMMDDHHmmss")}(a),o={id:me(),name:r,loadedAt:new Date,isSelected:!1,featuresCount:0,data:a,invalid:!a};c((function(e){return[].concat(Object(oe.a)(e),[o])}))}}};Object(a.useEffect)((function(){return window.addEventListener("paste",P),function(){window.removeEventListener("paste",P)}}),[]);var H=function(e){var t=e.currentTarget.dataset.id;c((function(e){var n=Object(oe.a)(e);if(!n.some((function(e){return e.id===t})))return e;var c,a=Object(re.a)(n);try{for(a.s();!(c=a.n()).done;){var r=c.value;r.isSelected&&(r.isSelected=!r.isSelected),r.id===t&&(r.isSelected=!r.isSelected)}}catch(o){a.e(o)}finally{a.f()}return n}))},R=function(e){var t=e.currentTarget.dataset.id;c((function(e){var n=e.filter((function(e){return e.id!==t&&!e.warning}));return localStorage.setItem("saved",JSON.stringify(n)),n}))},z=function(e){var t=n.find((function(t){return t.id===e}));if(!t.invalid){var c=Object(ze.geoJSON)(t.data).getBounds().getCenter(),a=c.lat,r=c.lng;C([a,r])}},A=function(e){var t=n.find((function(t){return t.id===e}));w("show-warning"),g((function(e){return Object(D.a)(Object(D.a)({},e),{},{warning:t.warning})}))},I=function(){return w(void 0)},F=function(e){var t=n.find((function(t){return t.id===e}));t.invalid||(w("show-preview"),g((function(e){return Object(D.a)(Object(D.a)({},e),{},{id:t.id,data:t.data})})))},G=function(e){var t=n.find((function(t){return t.id===e})),c=function(e){var t=btoa(e);return"data:text/plain;base64,".concat(t)}(JSON.stringify(null===t||void 0===t?void 0:t.data)),a=t.fileName?t.fileName:"".concat(t.name,".geojson");xe(c,a)};return Object(E.jsxs)("div",Object(D.a)(Object(D.a)({className:"explore-page"},T()),{},{children:[Object(E.jsx)(Fe,{isShowing:B}),Object(E.jsxs)(_.a,{zoom:4,center:k,scrollWheelZoom:!0,className:"explore-page__map",children:[Object(E.jsx)(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(E.jsx)(We,{geojsonObjects:n,center:k})]}),Object(E.jsx)(Ue,{id:f,onHide:I,onExport:G,isShowing:"show-preview"===h,data:v}),Object(E.jsx)(Ye,{isShowing:"show-warning"===h,warning:O,onHide:I}),Object(E.jsxs)("div",{className:"explore-page__panel",children:[Object(E.jsx)("div",{className:"explore-page__loader",children:Object(E.jsx)(Re.BarLoader,{speedMultiplier:.5,color:i?"white":"transparent",width:"100%"})}),Object(E.jsx)("div",{className:"explore-page__toolbar"}),Object(E.jsx)("div",{className:"explore-page__list",children:n.map((function(e){return Object(E.jsx)(Ae,Object(D.a)({onDelete:R,onExport:G,onToggle:H,onShowWarning:A,onShowOnMap:z,onShowGeojson:F},e),e.id)}))})]})]}))},Xe=n(52),Ze=(n(355),n(356),n(357),["className","to","icon"]),Ke=function(e){var t=e.className,n=e.to,c=e.icon,a=Object(ee.a)(e,Ze);return Object(E.jsx)(U.b,Object(D.a)(Object(D.a)({},a),{},{to:n,className:"link-icon ".concat(t),children:Object(E.jsx)(F.a,{icon:c})}))},Qe=Object(a.memo)(Ke),$e=(n(358),["text","className","onClick","icon"]),et=function(e){var t=e.text,n=e.className,c=e.onClick,a=e.icon,r=Object(ee.a)(e,$e);return Object(E.jsxs)("div",Object(D.a)(Object(D.a)({},r),{},{onClick:c,className:"text-icon ".concat(n),children:[Object(E.jsx)("span",{className:"text-icon__text",children:t}),Object(E.jsx)(F.a,{icon:a})]}))},tt=Object(a.memo)(et),nt=function(e){var t=e.capital,n=e.flagUrl,c=e.fullName,a=e.countryCode,r=e.center,o=e.area,i=e.regions,s=e.neigboursCount,l=e.tags,u=e.onExport;return Object(E.jsxs)("div",{className:"popup",style:{top:"".concat(r[1],"px"),left:"".concat(r[0],"px")},children:[Object(E.jsxs)("div",{className:"popup__body",children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"popup__image",src:j+n})}),Object(E.jsxs)("div",{className:"popup__info",children:[Object(E.jsxs)("div",{className:"popup__field",children:[Object(E.jsx)("div",{className:"popup__fieldLabel",children:"Country:"}),Object(E.jsx)("div",{className:"popup__fieldValue",children:c})]}),Object(E.jsxs)("div",{className:"popup__field",children:[Object(E.jsx)("div",{className:"popup__fieldLabel",children:"Capital:"}),Object(E.jsx)("div",{className:"popup__fieldValue",children:t})]}),Object(E.jsxs)("div",{className:"popup__field",children:[Object(E.jsx)("div",{className:"popup__fieldLabel",children:"Area:"}),Object(E.jsxs)("div",{className:"popup__fieldValue",children:[o," km2"]})]}),Object(E.jsxs)("div",{className:"popup__field",children:[Object(E.jsx)("div",{className:"popup__fieldLabel",children:"Number of regions:"}),Object(E.jsx)("div",{className:"popup__fieldValue",children:i})]}),Object(E.jsxs)("div",{className:"popup__field",children:[Object(E.jsx)("div",{className:"popup__fieldLabel",children:"Number of neigbours:"}),Object(E.jsx)("div",{className:"popup__fieldValue",children:s})]}),Object(E.jsx)("div",{className:"popup__badges",children:l.map((function(e){return Object(E.jsx)("div",{className:"popup__badge",children:e},e)}))})]})]}),Object(E.jsxs)("div",{className:"popup__footer",children:[Object(E.jsx)(tt,{text:"Geojson",className:"popup__",onClick:u,icon:I.e}),Object(E.jsx)(Qe,{className:"popup__iconButton",to:"/country/".concat(a),icon:I.m})]})]})},ct=Object(a.memo)(nt),at=(n(359),function(e){var t=e.hasEntered,n=e.x,c=e.y,a=e.country;return Object(E.jsx)(H,{show:t,x:n,y:c,children:a?Object(E.jsxs)("div",{className:"geoObject",children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"geoObject__image",src:j+a.flagUrl})}),Object(E.jsxs)("div",{className:"geoObject__info",children:[Object(E.jsxs)("div",{children:["Country: ",a.fullName]}),Object(E.jsxs)("div",{children:["Capital: ",a.capital]})]})]}):null})}),rt=(n(360),function(e){var t=e.onMouseEnter,n=e.onMouseLeave,c=e.onMouseMove,r=e.onClick,o=e.svg,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=i.current;if(e){var a=e.firstChild;if(a instanceof SVGElement){var o=a.querySelector("g"),s=o.getBoundingClientRect(),l=s.x;s.y,s.width,s.height;o.style.transform="translate(-".concat(l/2,"px, 0)");var u=function(e){e.preventDefault()};return a.addEventListener("mousemove",c),a.addEventListener("mouseenter",t),a.addEventListener("mouseleave",n),a.addEventListener("click",r),a.addEventListener("contextmenu",u),function(){a.removeEventListener("mousemove",c),a.removeEventListener("mouseenter",t),a.removeEventListener("mouseleave",n),a.removeEventListener("click",r),a.removeEventListener("contextmenu",u)}}}}),[i]),Object(E.jsx)("div",{className:"country-page__svg",ref:i,dangerouslySetInnerHTML:{__html:o}})}),ot=Object(a.memo)(rt),it=(n(361),function(){var e,t,n=Object(a.useState)({x:-1,y:-1}),c=Object(s.a)(n,2),r=c[0],o=r.x,i=r.y,l=c[1],b=Object(a.useState)(),p=Object(s.a)(b,2),O=p[0],v=p[1],g=Object(a.useState)(""),m=Object(s.a)(g,2),x=m[0],h=m[1],_=Object(a.useState)(!1),y=Object(s.a)(_,2),w=y[0],N=y[1],S=Object(a.useState)(!0),k=Object(s.a)(S,2),C=k[0],L=k[1],M=Object(a.useState)(),T=Object(s.a)(M,2),B=T[0],P=T[1],H=Object(a.useState)([]),R=Object(s.a)(H,2),z=R[0],A=R[1],I=Object(a.useCallback)((function(e){var t=e.target;if(t instanceof SVGElement){O&&O.element.classList.toggle("selected");var n,c=t.id.toLowerCase();if(c){n=z.find((function(e){return e.id===c})),t.classList.toggle("selected");var a=t.getBoundingClientRect();a.x,a.y,a.width,a.height;v({element:t,item:n,center:[e.clientX-100,e.clientY-100]})}}}),[z,O]),F=Object(a.useCallback)((function(e){l({x:e.clientX,y:e.clientY});var t=e.target;if(t instanceof SVGElement){var n=t.id.toLowerCase();if(n){var c=z.find((function(e){return e.id===n}));P(c||void 0)}else P(void 0)}else P(void 0)}),[z]),G=Object(a.useCallback)((function(){N(!0)}),[]),V=Object(a.useCallback)((function(){N(!1)}),[]);Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/assets/shapes/world.svg")).then((function(e){return e.text()}));case 2:t=e.sent,h(t),L(!1);case 5:case"end":return e.stop()}}),e)})))()}),[]);return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({phrase:"",pageSize:200});case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(E.jsxs)("div",{className:"world-page ".concat(C?"center":""),children:[C?Object(E.jsx)("div",{className:"world-page__loader",children:Object(E.jsx)(Re.GridLoader,{color:"white",size:15})}):Object(E.jsx)(ot,{onMouseEnter:G,onMouseLeave:V,onMouseMove:F,onClick:I,svg:x}),Object(E.jsx)(at,{hasEntered:B&&w&&(null===O||void 0===O||null===(e=O.item)||void 0===e?void 0:e.id)!==B.id||!1,country:B,x:o,y:i}),"country"===(null===O||void 0===O||null===(t=O.item)||void 0===t?void 0:t.type)?Object(E.jsx)(ct,Object(D.a)(Object(D.a)({onExport:function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=O.item,e.next=4,c=t.countryCode,"".concat(j,"/assets/geojson/").concat(c,".geojson");case 4:n=e.sent,xe(n,"".concat(t.countryCode,".json")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Xe.NotificationManager.error("We could not find geojson for country","Download error.");case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})))()}},O.item),{},{center:O.center})):null]})}),st=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(){return c(!1)};return Object(E.jsxs)("div",{className:"app",children:[Object(E.jsx)(q,{onSearch:function(){return c(!0)}}),Object(E.jsx)(ae,{onHide:r,onClick:r,isShowing:n}),Object(E.jsxs)(S.c,{children:[Object(E.jsx)(S.a,{exact:!0,path:"/",component:it}),Object(E.jsx)(S.a,{exact:!0,path:"/explore",component:qe}),Object(E.jsx)(S.a,{exact:!0,path:"/draw",component:Pe}),Object(E.jsx)(S.a,{exact:!0,path:"/country/:countryCode",component:W})]}),Object(E.jsx)(Xe.NotificationContainer,{})]})};n(362),n(363);i.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(U.a,{children:Object(E.jsx)(st,{})})}),document.getElementById("root"))},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},97:function(e,t,n){}},[[364,1,2]]]);
//# sourceMappingURL=main.0a62c019.chunk.js.map