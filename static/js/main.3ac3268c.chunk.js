(this["webpackJsonpcountry-shapes"]=this["webpackJsonpcountry-shapes"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),o=n(28),i=n.n(o),s=n(4),l=n(7),u=n.n(l),d=n(9),j="https://Jozefpodlecki.github.io/geo-shapes",b=n(70),p=n.n(b),f=fetch("".concat(j,"/assets/geoObjects.json")).then((function(e){return e.json()})),O=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.search.toLowerCase().includes(t.phrase)})).slice(0,t.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return fetch("".concat(j,"/assets/regions/").concat(e,".json")).then((function(e){return e.json()}))},g=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:return n=e.sent,c=n.filter((function(e){return"country"===e.type})),e.abrupt("return",c.find((function(e){return e.countryCode.includes(t)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return fetch("".concat(j,"/assets/shapes/").concat(e,"/first-level.svg")).then((function(e){return e.text()}))},x=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=5;break}return e.next=3,fetch("".concat(j,"/assets/geojson/countries.geojson")).then((function(e){return e.json()}));case 3:a=e.sent,c=new p.a(a);case 5:if(!(r=c.search(t,n))){e.next=8;break}return e.abrupt("return",r.properties.ISO_A3.toLowerCase());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f;case 2:return n=e.sent,c=n.filter((function(e){return"country"===e.type})),a=c.find((function(e){return e.iso3166a3===t})),e.abrupt("return",fetch("".concat(j,"/assets/geojson/").concat(null===a||void 0===a?void 0:a.countryCode,".geojson")).then((function(e){return e.json()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return fetch("".concat(j,"/assets/geojson/").concat(e,".geojson")).then((function(e){return e.json()}))},y=n(368),w=n(371),N=n(369),S=n(370),k=n(14),C=n(39),E=n.n(C),L=(n(87),n(2)),M=function(e){var t=e.onMouseEnter,n=e.onMouseLeave,c=e.onMouseMove,r=e.svg,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=o.current;if(e){var a=e.firstChild;if(a instanceof SVGElement){var r=a.querySelector("g").getBoundingClientRect();r.y,r.width,r.height;return a.addEventListener("mousemove",c),a.addEventListener("mouseenter",t),a.addEventListener("mouseleave",n),function(){a.removeEventListener("mousemove",c),a.addEventListener("mouseenter",t),a.addEventListener("mouseleave",n)}}}}),[o]),Object(L.jsx)("div",{className:"country-page__svg",ref:o,dangerouslySetInnerHTML:{__html:r}})},T=Object(a.memo)(M),D=(n(89),function(e){var t,n=e.flagUrl,c=e.fullName,a=e.mapType,r=e.onMapChange,o=function(e){var t=e.currentTarget.dataset.mapoption;r(t)};return Object(L.jsxs)("div",{className:"country-page__navbar",children:[Object(L.jsxs)("div",{className:"country-page__navbarCountry",children:[Object(L.jsx)("div",{className:"country-page__navbarCountryFlag",style:(t=j+n,{background:"url(".concat(t,") center center / contain no-repeat")})}),Object(L.jsx)("div",{className:"country-page__navbarCountryTitle",children:c})]}),Object(L.jsxs)("div",{className:"country-page__navbarMapSwitch",children:[Object(L.jsx)("div",{onClick:o,"data-mapoption":"leaflet",className:"country-page__navbarMapOption ".concat("leaflet"===a?"country-page__navbarMapOption--selected":null),children:"Leaflet"}),Object(L.jsx)("div",{onClick:o,"data-mapoption":"svg",className:"country-page__navbarMapOption ".concat("svg"===a?"country-page__navbarMapOption--selected":null),children:"Svg"})]})]})}),B=Object(a.memo)(D),H=n(5),P=n(15),A=(n(90),function(e){var t=e.x,n=e.y,c=e.show,a=e.children,r=Object(P.useSpring)({opacity:c?1:0});return Object(L.jsx)(P.animated.div,{className:"tooltip",style:Object(H.a)(Object(H.a)({},r),{},{top:"".concat(n-60,"px"),left:"".concat(t-90,"px"),display:r.opacity.to((function(e){return 0===e?"none":"block"}))}),children:a})}),R=(n(91),function(e){var t=e.hasEntered,n=e.region,c=e.x,a=e.y;return Object(L.jsx)(A,{show:t&&!!n,x:c,y:a,children:n?Object(L.jsxs)("div",{className:"region",children:[Object(L.jsx)("div",{children:Object(L.jsx)("img",{className:"region__image",src:j+n.flagUrl})}),Object(L.jsxs)("div",{className:"region__info",children:[Object(L.jsxs)("div",{children:["Region: ",n.region]}),Object(L.jsxs)("div",{children:["Capital: ",n.capital]})]})]}):null})}),z=Object(a.memo)(R),I=(n(92),n(48)),F=n(6),G=n(18),Y=(n(98),function(e){return Object(I.a)(e),Object(L.jsxs)("div",{className:"country-page__info",children:[Object(L.jsx)("div",{children:Object(L.jsx)(G.a,{size:"10x",icon:F.k})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"country-page__infoTitle",children:"Page is under construction"}),Object(L.jsx)("div",{className:"country-page__infoDescription",children:"The data required for this page might not be prepared or an error occurred while loading it."})]})]})}),J=Object(a.memo)(Y),V=function(){var e=Object(S.a)({click:function(t){console.log(e.getCenter(),e.getZoom(),t.latlng)}});return null},W=function(){var e=Object(a.useState)({x:-1,y:-1}),t=Object(s.a)(e,2),n=t[0],c=n.x,r=n.y,o=t[1],i=Object(a.useState)({regions:[],isLoading:!0,hasError:!1}),l=Object(s.a)(i,2),j=l[0],b=l[1],p=Object(a.useState)(),f=Object(s.a)(p,2),O=f[0],x=f[1],h=Object(a.useState)(!1),S=Object(s.a)(h,2),C=S[0],M=S[1],D=Object(a.useState)("leaflet"),H=Object(s.a)(D,2),P=H[0],A=H[1],R=Object(a.useState)(),I=Object(s.a)(R,2),F=I[0],G=I[1],Y=Object(a.useState)(""),W=Object(s.a)(Y,2),U=W[0],q=W[1],X=Object(k.f)().countryCode;Object(a.useEffect)((function(){X&&j.isLoading&&Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(X);case 3:return t=e.sent,e.next=6,v(X);case 6:if(n=e.sent,t){e.next=10;break}return b({hasError:!0,isLoading:!1}),e.abrupt("return");case 10:b({country:t,regions:n,isLoading:!1,hasError:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),b({hasError:!0,isLoading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[j,X]);var Z=Object(a.useCallback)((function(e){if(!j.isLoading&&!j.hasError&&(o({x:e.clientX,y:e.clientY}),e.target instanceof SVGElement)){var t=e.target.id;if(t){var n=j.regions.find((function(e){return e.id===t}));n&&x(n)}else x(void 0)}}),[j]);return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"svg"!==P){e.next=8;break}return e.next=4,m(X);case 4:t=e.sent,q(t),e.next=12;break;case 8:return e.next=10,_(X);case 10:n=e.sent,G(n);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})))()}),[P]),Object(L.jsx)("div",{className:"country-page ".concat(j.isLoading||j.hasError?"center":null),children:j.isLoading?Object(L.jsx)(E.a,{color:"white",size:15}):j.hasError?Object(L.jsx)(J,{}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(B,{flagUrl:j.country.flagUrl,fullName:j.country.fullName,mapType:P,onMapChange:A}),Object(L.jsx)(z,{hasEntered:C,x:c,y:r,region:O}),Object(L.jsx)("div",{className:"country-page__map",children:"svg"===P?Object(L.jsx)(T,{onMouseEnter:function(){M(!0)},onMouseLeave:function(){M(!1)},onMouseMove:Z,svg:U}):Object(L.jsxs)(y.a,{zoom:j.country.zoom,center:j.country.center,scrollWheelZoom:!0,className:"country-page__leafletMap",children:[Object(L.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),F?Object(L.jsx)(N.a,{data:F}):null,Object(L.jsx)(V,{})]})}),Object(L.jsx)("div",{className:"country-page__footer"})]})})},U=(n(104),n(24)),q=function(e){var t=e.onSearch;return Object(L.jsxs)("div",{className:"toolbar",children:[Object(L.jsxs)(U.b,{className:"toolbar__logo",to:"/",children:[Object(L.jsx)("div",{className:"toolbar__logoText",children:"Geo-shapes"}),Object(L.jsx)("div",{className:"toolbar__logoIcon",children:Object(L.jsx)(G.a,{icon:F.j})})]}),Object(L.jsxs)("div",{className:"toolbar__menu",children:[Object(L.jsx)(U.c,{activeClassName:"toolbar__iconButton--selected",className:"toolbar__iconButton",exact:!0,to:"/",children:Object(L.jsx)(G.a,{icon:F.l})}),Object(L.jsx)(U.c,{activeClassName:"toolbar__iconButton--selected",className:"toolbar__iconButton",exact:!0,to:"/explore",children:Object(L.jsx)(G.a,{icon:F.h})}),Object(L.jsx)(U.c,{activeClassName:"toolbar__iconButton--selected",className:"toolbar__iconButton",exact:!0,to:"/draw",children:Object(L.jsx)(G.a,{icon:F.n})}),Object(L.jsx)("div",{className:"toolbar__iconButton",onClick:t,children:Object(L.jsx)(G.a,{icon:F.o})})]})]})},X=Object(a.memo)(q),Z=n(72),K=n.n(Z),Q=(n(105),function(e){var t=e.capital,n=e.countryCode,c=e.flagUrl,r=e.fullName,o=e.id,i=e.thumbnailUrl,l=(e.type,e.onClick),u=Object(a.useState)(j+i),d=Object(s.a)(u,2),b=d[0],p=d[1];return Object(a.useEffect)((function(){if(b){var e=new Image;e.onerror=function(){return p(void 0)},e.src=b}}),[b]),Object(L.jsxs)("div",{className:"geoObject",children:[Object(L.jsx)("div",{className:"geoObject__imageWrapper",children:Object(L.jsx)("div",{className:"geoObject__image",style:{background:b?"url(".concat(b,") center center / cover"):"gray"}})}),Object(L.jsxs)(U.b,{className:"geoObject__link",onClick:l,to:"/country/".concat(n),children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"geoObject__name",children:r}),Object(L.jsx)("div",{className:"geoObject__type",children:t})]}),Object(L.jsx)("div",{className:"geoObject__flag",style:{background:"url(".concat(j+c,") center center / cover")}})]})]},o)}),$=Object(a.memo)(Q),ee=(n(106),function(e){var t=e.value,n=e.onChange,c=e.onClear,r=Object(a.useCallback)((function(e){var t=e.currentTarget.value;n(t)}),[]);return Object(L.jsxs)("div",{className:"searchbox ".concat(t?"searchbox--typed":""),children:[Object(L.jsx)("div",{className:"searchbox__icon ".concat(t?"searchbox__icon--active":""),children:Object(L.jsx)(G.a,{icon:F.o})}),Object(L.jsx)("input",{type:"text",value:t,onChange:r,className:"searchbox__input",placeholder:"I am looking for..."}),t?Object(L.jsx)("div",{onClick:c,className:"searchbox__clearIcon",children:Object(L.jsx)(G.a,{icon:F.p})}):null]})}),te=n(20),ne=(n(107),["className","onClick","icon","disabled"]),ce=function(e){var t=e.className,n=e.onClick,c=e.icon,a=e.disabled,r=void 0!==a&&a,o=Object(te.a)(e,ne);return Object(L.jsx)("div",Object(H.a)(Object(H.a)({},o),{},{onClick:n,className:"icon ".concat(r?"icon--disabled":""," ").concat(n?"icon--interactive":""," ").concat(t),children:Object(L.jsx)(G.a,{icon:c})}))},ae=Object(a.memo)(ce),re=(n(108),function(e){var t=e.isShowing,n=e.onHide,c=e.onClick,r=Object(a.useState)({isLoading:!0,items:[]}),o=Object(s.a)(r,2),i=o[0],l=i.isLoading,j=i.items,b=o[1],p=Object(a.useState)(""),f=Object(s.a)(p,2),v=f[0],g=f[1],m=K()(v,1e3),x=Object(s.a)(m,1)[0],h=Object(P.useSpring)({opacity:t?1:0}),_=Object(a.useCallback)((function(){g("")}),[]);return Object(a.useEffect)((function(){b({isLoading:!0,items:[]})}),[v]),Object(a.useEffect)((function(){t?Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({pageSize:10,phrase:x});case 2:t=e.sent,b({isLoading:!1,items:t});case 4:case"end":return e.stop()}}),e)})))():(b({isLoading:!0,items:[]}),g(""))}),[t,x]),Object(L.jsxs)(P.animated.div,{style:Object(H.a)(Object(H.a)({},h),{},{display:h.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"searchDialog ".concat(""),children:[Object(L.jsx)("div",{className:"searchDialog__navbar",children:Object(L.jsx)(ae,{onClick:n,className:"searchDialog__close",icon:F.p})}),Object(L.jsxs)("div",{className:"searchDialog__body",children:[Object(L.jsx)("div",{className:"searchDialog__top",children:Object(L.jsx)(ee,{onChange:g,onClear:_,value:v})}),Object(L.jsx)("div",{className:"searchDialog__list ".concat(l?"searchDialog__list--center":""),children:l?Object(L.jsx)(E.a,{color:"white",size:15}):j.map((function(e){return"country"===e.type&&Object(L.jsx)($,Object(H.a)({onClick:c},e),e.id)}))})]})]})}),oe=n(31),ie=n(16),se=n(73),le=n(49),ue=n.n(le),de=n(41),je=6378137,be=Math.PI/180,pe=180/Math.PI;function fe(e){return e*be}function Oe(e){return e*pe}function ve(e,t,n,c){var a=fe(e[1]),r=fe(e[0]),o=t/n,i=Math.cos(o),s=Math.cos(a),l=Math.sin(o),u=Math.sin(a),d=Math.asin(u*i+s*l*Math.cos(c));return[Oe(r+Math.atan2(Math.sin(c)*l*s,i-u*Math.sin(d))),Oe(d)]}function ge(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function me(e){return null===e||void 0===e}function xe(e,t,n){for(var c=function(e){if(me(e))return 64;if(ge(e)){var t=e.numberOfEdges;return void 0===t?64:t}return 64}(n),a=function(e){if(me(e))return je;if(ge(e)){var t=e.earthRadius;return void 0===t?je:t}return je}(n),r=function(e){if(me(e))return 0;if(ge(e)){var t=e.bearing;return void 0===t?0:t}return 0}(n),o=function(e){return ge(e)&&e.rightHandRule?-1:1}(n),i=fe(r),s=new Array,l=0;l<c;++l){var u=ve(e,t,a,i+2*o*Math.PI*-l/c);s.push(u)}return s.push(s[0]),{type:"Polygon",coordinates:[s]}}var he=function(){return"_"+Math.random().toString(36).substr(2,9)},_e=function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=e,n.download=t,n.click()},ye=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var n=new FileReader;n.onload=function(){var t=n.result;e(t)},n.readAsText(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=/(-?\d*\.?\d+)[,\s]*(-?\d*\.?\d+)/,Ne=function(e){try{var t=JSON.parse(e);if(Array.isArray(t)){if(!t.length||"number"!==typeof t[0])return;return{type:"LineString",coordinates:[t]}}return t}catch(o){try{return Object(de.parse)(e)}catch(o){}}var n=we.exec(e);if(n&&3===n.length){var c=Object(s.a)(n,3),a=c[1],r=c[2];return{type:"Point",coordinates:[Number(a),Number(r)]}}},Se=function(e){try{return localStorage.setItem("saved",JSON.stringify(e)),!0}catch(t){return!1}},ke=n(372),Ce={type:"Polygon",coordinates:[[]]},Ee=function(e){var t=e.drawOption,n=e.geoObjects,c=e.onChange,r=Object(a.useState)(!1),o=Object(s.a)(r,2),i=o[0],l=o[1],u=Object(a.useState)({lat:50,lng:-1}),d=Object(s.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)(!1),f=Object(s.a)(p,2),O=f[0],v=f[1],g=Object(a.useState)(!1),m=Object(s.a)(g,2),x=m[0],h=m[1],_=Object(a.useState)(10),y=Object(s.a)(_,2),w=y[0],k=y[1],C=Object(a.useState)(Ce),E=Object(s.a)(C,2),M=E[0],T=E[1],D=Object(S.a)({click:function(e){if(O||"circle"!==t||(D.dragging.disable(),v(!0),b(e.latlng),k(100)),!x&&O&&"circle"===t&&(D.dragging.enable(),h(!0)),"polygon"===t){var n=e.latlng,c=n.lat,a=[n.lng,c];T((function(e){var t=[].concat(Object(ie.a)(e.coordinates[0]),[a]);return Object(H.a)(Object(H.a)({},e),{},{coordinates:[t]})}))}if("lineString"===t){var r=e.latlng,o=r.lat,i=[r.lng,o];T((function(e){var t=[].concat(Object(ie.a)(e.coordinates),[i]);return Object(H.a)(Object(H.a)({},e),{},{coordinates:t})}))}},mouseup:function(e){},mousemove:function(e){if(O&&!x&&"circle"===t){var n=e.latlng.distanceTo(j);k(n)}}});Object(a.useEffect)((function(){if(x&&"lineString"===t&&(c({id:he(),data:M}),T(Ce),h(!1)),x&&"polygon"===t&&(c({id:he(),data:M}),T(Ce),h(!1)),x&&"circle"===t){var e=xe([j.lng,j.lat],w);v(!1),h(!1),c({id:he(),data:e})}}),[t,x]),Object(a.useEffect)((function(){"none"!==t&&("polygon"===t&&"Polygon"===M.type||"circle"===t&&"Polygon"===M.type||"lineString"===t&&"LineString"===M.type||T((function(e){var n="LineString",c=[];return"lineString"===t&&(n="LineString",c=[]),"circle"===t&&(n="Polygon",c=[[]]),"polygon"===t&&(n="Polygon",c=[[]]),{type:n,coordinates:c}})))}),[M,t]);var B=function(e){"Enter"===e.key&&h(!0)};return Object(a.useEffect)((function(){return window.addEventListener("keydown",B),function(){window.removeEventListener("keydown",B)}}),[]),Object(L.jsxs)(L.Fragment,{children:[x||"circle"!==t?null:Object(L.jsx)("div",{className:"draw-page__popup",children:"To draw a circle, click on the map, move mouse to set radius and click to finish"}),x||"lineString"!==t?null:Object(L.jsx)("div",{className:"draw-page__popup",children:"To draw a line string, click on the map and press enter to finish"}),x||"polygon"!==t?null:Object(L.jsx)("div",{className:"draw-page__popup",children:"To draw a polygon, click on the map and press enter to finish"}),n.map((function(e){return Object(L.jsx)(N.a,{data:e.data},e.id)})),Object(L.jsx)(N.a,{data:M},Math.random()),O?Object(L.jsx)(ke.a,{eventHandlers:{mousemove:function(e){i&&b(e.latlng)},mousedown:function(e){l(!0),D.dragging.disable()},mouseup:function(e){l(!1),D.dragging.enable()}},center:j,radius:w}):null]})},Le=n(50),Me=n.n(Le),Te=n(51),De=n.n(Te),Be=(n(322),function(e){var t=e.id,n=e.isShowing,c=e.onHide,r=e.onExport,o=e.data,i=e.exportType,s=Object(a.useRef)(null),l=Object(P.useSpring)({opacity:n?1:0}),u="geojson"===i?Me()(o):o;return Object(a.useEffect)((function(){var e=s.current;if(e){var t=function(t){var n=t.target;e.contains(n)||c()};return n&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}}),[s,n]),Object(L.jsx)(P.animated.div,{ref:s,style:Object(H.a)(Object(H.a)({},l),{},{display:l.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"preview-dialog__overlay",children:Object(L.jsxs)("div",{className:"preview-dialog",children:[Object(L.jsxs)("div",{className:"preview-dialog__topBar",children:[Object(L.jsxs)("div",{className:"preview-dialog__right",children:[Object(L.jsx)(ae,{onClick:function(){navigator.clipboard.writeText(u)},className:"",icon:F.b}),Object(L.jsx)(ae,{onClick:function(){return r(t)},className:"",icon:F.e})]}),Object(L.jsx)(ae,{onClick:c,className:"preview-dialog__close",icon:F.p})]}),Object(L.jsx)("div",{className:"preview-dialog__body",children:o?Object(L.jsx)(De.a,{className:"geojson"===i?"json":"none",children:u}):null})]})})}),He=(n(323),function(e){var t=e.drawOption,n=e.exportType,c=e.data,a=e.onChange,r=e.onExport,o=e.onPreview,i=e.onHide,s=e.onRemoveShapes,l=e.isPreviewShowing,u=!e.dataAvailable,d=function(e){var t=e.currentTarget.dataset.id;a({drawOption:t,exportType:n})},j=function(e){var n=e.currentTarget.dataset.id;a({drawOption:t,exportType:n})};return Object(L.jsxs)("div",{className:"draw-page__panel",children:[Object(L.jsxs)("div",{className:"draw-page__topBar",children:["Remove shapes ",Object(L.jsx)(ae,{disabled:u,onClick:s,className:"",icon:F.q})]}),Object(L.jsxs)("div",{className:"draw-page__toolbox",children:[Object(L.jsx)(ae,{"data-id":"polygon",onClick:d,className:"draw-page__tool ".concat("polygon"===t?"selected":""),icon:F.f}),Object(L.jsx)(ae,{"data-id":"lineString",onClick:d,className:"draw-page__tool ".concat("lineString"===t?"selected":""),icon:F.n}),Object(L.jsx)(ae,{"data-id":"circle",onClick:d,className:"draw-page__tool ".concat("circle"===t?"selected":""),icon:F.a})]}),Object(L.jsxs)("div",{className:"export-section",children:[Object(L.jsx)("div",{className:"export-section__title",children:"Export"}),Object(L.jsxs)("div",{className:"export",children:[Object(L.jsx)("div",{"data-id":"geojson",onClick:j,className:"export__option ".concat("geojson"===n?"export__option--selected":""),children:"Geojson"}),Object(L.jsx)("div",{"data-id":"wkt",onClick:j,className:"export__option ".concat("wkt"===n?"export__option--selected":""),children:"WKT"})]}),Object(L.jsx)(Be,{id:null===c||void 0===c?void 0:c.id,data:c,onExport:r,onHide:i,isShowing:l,exportType:n}),Object(L.jsxs)("div",{className:"payload",children:[Object(L.jsx)(ae,{disabled:u,onClick:o,className:"payload__option",icon:F.h}),Object(L.jsx)(ae,{disabled:u,onClick:r,className:"payload__option",icon:F.b}),Object(L.jsx)(ae,{disabled:u,onClick:function(){navigator.clipboard.writeText(JSON.stringify(c))},className:"payload__option",icon:F.e})]})]})]})}),Pe=Object(a.memo)(He),Ae=(n(324),function(e){Object(I.a)(e);var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)("none"),j=Object(s.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)("geojson"),O=Object(s.a)(f,2),v=O[0],g=O[1],m=Object(a.useState)(),x=Object(s.a)(m,2),h=x[0],_=x[1];return Object(L.jsxs)("div",{className:"draw-page",children:[Object(L.jsx)(Pe,{drawOption:b,exportType:v,onChange:function(e){p(e.drawOption),g(e.exportType)},onExport:function(){},onPreview:function(){if("wkt"===v){if(1===c.length){var e=Object(de.stringify)(c[0].data);return e=e.replace(/,/g,",\n"),_(e),void u(!0)}var t,n="",a=Object(oe.a)(c);try{for(a.s();!(t=a.n()).done;){var r=t.value,o=Object(de.stringify)(r.data);n+="\n"+(o=o.replace(/,/g,",\n"))}}catch(s){a.e(s)}finally{a.f()}return _(n),void u(!0)}if(!c.length)return _(""),void u(!0);if(1===c.length)return _(c[0].data),void u(!0);var i={type:"FeatureCollection",features:Object(ie.a)(c.map((function(e){return{type:"Feature",geometry:e.data,properties:{}}})))};_(i),u(!0)},onHide:function(){return u(!1)},onRemoveShapes:function(){return r([])},data:h,dataAvailable:!!c.length,isPreviewShowing:l}),Object(L.jsxs)(y.a,{zoom:4,center:[51.505,-.09],scrollWheelZoom:!0,className:"draw-page__map",children:[Object(L.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(L.jsx)(Ee,{onChange:function(e){r((function(t){return[].concat(Object(ie.a)(t),[e])})),p("none")},geoObjects:c,drawOption:b})]})]})}),Re=n(75),ze=n(52),Ie=n(30),Fe=(n(325),function(e){var t=e.id,n=e.isSelected,c=e.loadedAt,a=e.name,r=e.featuresCount,o=e.warning,i=e.onDelete,s=e.onShowOnMap,l=e.onShowGeojson,u=e.onShowWarning,d=e.onExport,j=e.onToggle;return Object(L.jsxs)("div",{className:"uploaded-item ".concat(n?"selected":""),children:[Object(L.jsxs)("div",{className:"uploaded-item__topBar",children:[Object(L.jsxs)("div",{"data-id":t,onClick:j,children:[Object(L.jsx)("div",{className:"uploaded-item__title",children:a}),Object(L.jsxs)("div",{className:"uploaded-item__detail",children:["Loaded at: ",new Date(c).toLocaleString()]})]}),Object(L.jsx)(ae,{"data-id":t,className:"uploaded-item__delete",onClick:i,icon:F.p})]}),Object(L.jsxs)("div",{className:"uploaded-item__body",children:[Object(L.jsx)(ae,{className:"popup__iconButton",onClick:function(){return s(t)},icon:F.d}),r?Object(L.jsxs)("div",{className:"uploaded-item__detail",children:["Features: ",r]}):null,Object(L.jsx)(ae,{className:"popup__iconButton",onClick:function(){return d(t)},icon:F.e}),Object(L.jsx)(ae,{className:"popup__iconButton",onClick:function(){return l(t)},icon:F.c}),o?Object(L.jsx)(ae,{className:"popup__iconButton",onClick:function(){return u(t)},icon:F.g}):null]})]})}),Ge=(n(326),function(e){var t=e.isShowing,n=Object(P.useSpring)({opacity:t?1:0});return Object(L.jsx)(P.animated.div,{style:Object(H.a)(Object(H.a)({},n),{},{display:n.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"explore-page__dropOverlay",children:Object(L.jsxs)("div",{className:"explore-page__dropModal",children:[Object(L.jsx)("div",{children:Object(L.jsx)(G.a,{size:"5x",icon:F.i})}),Object(L.jsx)("div",{className:"explore-page__dropModalText",children:"Drop geojson/json array lat lng or lat lng"})]})})}),Ye=Object(a.memo)(Ge),Je=(n(327),function(e){var t=e.id,n=e.data,c=e.eventHandlers,r=e.isSelected,o=Object(a.useMemo)((function(){return{color:r?"blue":"gray"}}),[r]),i=Object(a.useCallback)((function(e){e.id=t}),[t]);return Object(L.jsx)(N.a,{data:n,"data-id":t,style:o,eventHandlers:c,onEachFeature:i})}),Ve=Object(a.memo)(Je),We=(n(328),function(e){var t,n=e.x,c=e.y,r=e.isShowing,o=e.onAction,i=e.onHide,s=Object(a.useRef)(null),l=Object(P.useSpring)({opacity:r?1:0});Object(a.useEffect)((function(){var e=s.current;if(e){var t=function(t){var n=t.target;e.contains(n)||i()};return r&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}}),[s,r]);var u=function(e){var t=e.currentTarget.dataset.action;o(t)},d=((null===s||void 0===s||null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect())||{height:0}).height;return Object(L.jsx)(P.animated.div,{ref:s,style:Object(H.a)(Object(H.a)({},l),{},{top:"".concat(c-d/2,"px"),left:"".concat(n,"px"),display:l.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"menu__overlay",children:Object(L.jsxs)("div",{className:"menu",children:[Object(L.jsx)("div",{className:"menu__item",onClick:u,"data-action":"nearby-country",children:"Get nearby country"}),Object(L.jsx)("div",{className:"menu__item",onClick:u,"data-action":"nearby-continent",children:"Get nearby continent"})]})})}),Ue=function(e){var t=e.onAction,n=e.geojsonObjects,c=e.center,r=Object(a.useState)({x:0,y:0,latlng:{lat:-1,lng:-1},isShowing:!1}),o=Object(s.a)(r,2),i=o[0],l=o[1],u=Object(S.a)({click:function(e){var t=e.propagatedFrom;if(t&&t.feature)e.propagatedFrom.feature.id},contextmenu:function(e){var t=e.originalEvent;t.preventDefault();var n=t.clientX,c=t.clientY,a=e.latlng;l({x:n,y:c,latlng:a,isShowing:!0})}});Object(a.useEffect)((function(){u.setView(c)}),[c]);var d=Object(a.useMemo)((function(){return{click:function(e){var t=e.sourceTarget;if("feature"in t)t.feature.id}}}),[]),j=function(){return l((function(e){return Object(H.a)(Object(H.a)({},e),{},{isShowing:!1})}))};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(We,Object(H.a)(Object(H.a)({},i),{},{onAction:function(e){t(e,i.latlng),j()},onHide:j})),n.filter((function(e){return!e.invalid})).map((function(e){return Object(L.jsx)(Ve,Object(H.a)(Object(H.a)({},e),{},{eventHandlers:d,data:e.data}),e.id)}))]})},qe=(n(329),function(e){var t=e.id,n=e.isShowing,c=e.onHide,r=e.onExport,o=e.data,i=Object(a.useRef)(null),s=Object(P.useSpring)({opacity:n?1:0}),l=Object(a.useMemo)((function(){return Me()(o)}),[o]);return Object(a.useEffect)((function(){var e=i.current;if(e){var t=function(t){var n=t.target;e.contains(n)||c()};return n&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}}),[i,n]),Object(L.jsx)(P.animated.div,{ref:i,style:Object(H.a)(Object(H.a)({},s),{},{display:s.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"preview-dialog__overlay",children:Object(L.jsxs)("div",{className:"preview-dialog",children:[Object(L.jsxs)("div",{className:"preview-dialog__topBar",children:[Object(L.jsxs)("div",{className:"preview-dialog__right",children:[Object(L.jsx)(ae,{onClick:function(){navigator.clipboard.writeText(l)},className:"",icon:F.b}),Object(L.jsx)(ae,{onClick:function(){return r(t)},className:"",icon:F.e})]}),Object(L.jsx)(ae,{onClick:c,className:"preview-dialog__close",icon:F.p})]}),Object(L.jsx)("div",{className:"preview-dialog__body",children:o?Object(L.jsx)(De.a,{className:"json",children:l}):null})]})})}),Xe=Object(a.memo)(qe),Ze=(n(330),function(e){var t=e.isShowing,n=e.onHide,c=e.warning,r=Object(a.useRef)(null),o=Object(P.useSpring)({opacity:t?1:0});return Object(a.useEffect)((function(){var e=r.current;if(e){var c=function(t){var c=t.target;e===c&&n()};return t&&window.addEventListener("click",c),function(){window.removeEventListener("click",c)}}}),[r,t]),Object(L.jsx)(P.animated.div,{ref:r,style:Object(H.a)(Object(H.a)({},o),{},{display:o.opacity.to((function(e){return 0===e?"none":"flex"}))}),className:"warning-dialog__overlay",children:Object(L.jsxs)("div",{className:"warning-dialog",children:[Object(L.jsx)(ae,{onClick:n,className:"warning-dialog__closeIcon",icon:F.p}),Object(L.jsxs)("div",{className:"warning-dialog__body",children:[Object(L.jsx)(ae,{className:"warning-dialog__warningIcon",icon:F.g}),Object(L.jsx)("div",{className:"warning-dialog__text",children:c})]})]})})}),Ke=Object(a.memo)(Ze),Qe=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),o=Object(s.a)(r,2),i=o[0],l=o[1],j=Object(a.useState)({id:"",warning:"",data:{type:"Point"}}),b=Object(s.a)(j,2),p=b[0],f=p.id,O=p.warning,v=p.data,g=b[1],m=Object(a.useState)(),_=Object(s.a)(m,2),N=_[0],S=_[1],k=Object(a.useState)([51.505,-.09]),C=Object(s.a)(k,2),E=C[0],M=C[1],T=Object(a.useCallback)((function(e){e.length&&(l(!0),Object(d.a)(u.a.mark((function t(){var a,r,o,i,s,d,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Array,r=Object(oe.a)(e),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=16;break}return i=o.value,t.next=8,ye(i);case 8:s=t.sent,d=Ne(s),0,j={id:he(),name:i.name,fileName:i.name,loadedAt:new Date,isSelected:!1,featuresCount:0,data:d,invalid:!d},a.push(j),Se(a)||(j.warning="We could not save geo-object to local storage. The file size is too big.");case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:a=a.concat(n),c(a),l(!1);case 27:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})))())}),[n]),D=Object(Re.a)({onDrop:T}),B=D.getRootProps,P=D.isDragActive;Object(a.useEffect)((function(){var e=localStorage.getItem("saved");e&&new Promise((function(){var t=JSON.parse(e);c(t),l(!1)}))}),[]),Object(a.useEffect)((function(){var e=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.readText();case 3:t.sent,setTimeout(e,2e3),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();setTimeout(e,2e3)}),[]);var A=function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text");if(n){var a=Ne(n);if(a){var r=function(e){var t="";if(e)switch(e.type){case"Feature":t+="feature";var n=e;if("Polygon"===n.geometry.type){t+="_polygon";var c=n.geometry.coordinates;if(c.length&&c[0].length){var a=c[0].length;t+="_".concat(a)}}break;case"Point":case"Polygon":t+="point";break;case"LineString":t+="linestring";break;case"FeatureCollection":t+="features_".concat(e.features.length)}return t+ue()().format("_YYYYMMDDHHmmss")}(a),o={id:he(),name:r,loadedAt:new Date,isSelected:!1,featuresCount:0,data:a,invalid:!a};c((function(e){return[].concat(Object(ie.a)(e),[o])}))}}};Object(a.useEffect)((function(){return window.addEventListener("paste",A),function(){window.removeEventListener("paste",A)}}),[]);var R=function(e){var t=e.currentTarget.dataset.id;c((function(e){var n=Object(ie.a)(e);if(!n.some((function(e){return e.id===t})))return e;var c,a=Object(oe.a)(n);try{for(a.s();!(c=a.n()).done;){var r=c.value;r.isSelected&&(r.isSelected=!r.isSelected),r.id===t&&(r.isSelected=!r.isSelected)}}catch(o){a.e(o)}finally{a.f()}return n}))},z=function(e){var t=e.currentTarget.dataset.id;c((function(e){var n=e.filter((function(e){return e.id!==t&&!e.warning}));return localStorage.setItem("saved",JSON.stringify(n)),n}))},I=function(e){var t=n.find((function(t){return t.id===e}));if(!t.invalid){var c=Object(Ie.geoJSON)(t.data).getBounds().getCenter(),a=c.lat,r=c.lng;M([a,r])}},F=function(e){var t=n.find((function(t){return t.id===e}));S("show-warning"),g((function(e){return Object(H.a)(Object(H.a)({},e),{},{warning:t.warning})}))},G=function(){return S(void 0)},Y=function(e){var t=n.find((function(t){return t.id===e}));t.invalid||(S("show-preview"),g((function(e){return Object(H.a)(Object(H.a)({},e),{},{id:t.id,data:t.data})})))},J=function(e){var t=n.find((function(t){return t.id===e})),c=function(e){var t=se.a.encode(e);return"data:text/plain;base64,".concat(t)}(JSON.stringify(null===t||void 0===t?void 0:t.data)),a=t.fileName?t.fileName:"".concat(t.name,".geojson");_e(c,a)};return Object(L.jsxs)("div",Object(H.a)(Object(H.a)({className:"explore-page"},B()),{},{children:[Object(L.jsx)(Ye,{isShowing:P}),Object(L.jsxs)(y.a,{zoom:4,center:E,scrollWheelZoom:!0,className:"explore-page__map",children:[Object(L.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(L.jsx)(Ue,{onAction:function(e,t){if(l(!0),"nearby-country"===e){var n=t.lat,a=t.lng;Object(d.a)(u.a.mark((function e(){var t,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(a,n);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,h(t);case 8:if(r=e.sent,o=ue()().format("_YYYYMMDDHHmmss"),r){e.next=12;break}return e.abrupt("return");case 12:c((function(e){var n=[].concat(Object(ie.a)(e),[{id:he(),data:r,name:"".concat(t).concat(o),area:0,featuresCount:0,invalid:!1,isSelected:!1,loadedAt:new Date,points:0}]);return localStorage.setItem("saved",JSON.stringify(n)),n})),setTimeout((function(){l(!1)}),1e3),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),l(!1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()}G()},geojsonObjects:n,center:E})]}),Object(L.jsx)(Xe,{id:f,onHide:G,onExport:J,isShowing:"show-preview"===N,data:v}),Object(L.jsx)(Ke,{isShowing:"show-warning"===N,warning:O,onHide:G}),Object(L.jsxs)("div",{className:"explore-page__panel",children:[Object(L.jsx)("div",{className:"explore-page__loader",children:Object(L.jsx)(ze.BarLoader,{speedMultiplier:.5,color:i?"white":"transparent",width:"100%"})}),Object(L.jsx)("div",{className:"explore-page__toolbar"}),Object(L.jsx)("div",{className:"explore-page__list",children:n.map((function(e){return Object(L.jsx)(Fe,Object(H.a)({onDelete:z,onExport:J,onToggle:R,onShowWarning:F,onShowOnMap:I,onShowGeojson:Y},e),e.id)}))})]})]}))},$e=n(53),et=(n(356),n(357),n(358),["className","to","icon"]),tt=function(e){var t=e.className,n=e.to,c=e.icon,a=Object(te.a)(e,et);return Object(L.jsx)(U.b,Object(H.a)(Object(H.a)({},a),{},{to:n,className:"link-icon ".concat(t),children:Object(L.jsx)(G.a,{icon:c})}))},nt=Object(a.memo)(tt),ct=(n(359),["text","className","onClick","icon"]),at=function(e){var t=e.text,n=e.className,c=e.onClick,a=e.icon,r=Object(te.a)(e,ct);return Object(L.jsxs)("div",Object(H.a)(Object(H.a)({},r),{},{onClick:c,className:"text-icon ".concat(n),children:[Object(L.jsx)("span",{className:"text-icon__text",children:t}),Object(L.jsx)(G.a,{icon:a})]}))},rt=Object(a.memo)(at),ot=function(e){var t=e.capital,n=e.flagUrl,c=e.fullName,a=e.countryCode,r=e.center,o=e.area,i=e.regions,s=e.neigboursCount,l=e.tags,u=e.onExport;return Object(L.jsxs)("div",{className:"popup",style:{top:"".concat(r[1],"px"),left:"".concat(r[0],"px")},children:[Object(L.jsxs)("div",{className:"popup__body",children:[Object(L.jsx)("div",{children:Object(L.jsx)("img",{className:"popup__image",src:j+n})}),Object(L.jsxs)("div",{className:"popup__info",children:[Object(L.jsxs)("div",{className:"popup__field",children:[Object(L.jsx)("div",{className:"popup__fieldLabel",children:"Country:"}),Object(L.jsx)("div",{className:"popup__fieldValue",children:c})]}),Object(L.jsxs)("div",{className:"popup__field",children:[Object(L.jsx)("div",{className:"popup__fieldLabel",children:"Capital:"}),Object(L.jsx)("div",{className:"popup__fieldValue",children:t})]}),Object(L.jsxs)("div",{className:"popup__field",children:[Object(L.jsx)("div",{className:"popup__fieldLabel",children:"Area:"}),Object(L.jsxs)("div",{className:"popup__fieldValue",children:[o," km2"]})]}),Object(L.jsxs)("div",{className:"popup__field",children:[Object(L.jsx)("div",{className:"popup__fieldLabel",children:"Number of regions:"}),Object(L.jsx)("div",{className:"popup__fieldValue",children:i})]}),Object(L.jsxs)("div",{className:"popup__field",children:[Object(L.jsx)("div",{className:"popup__fieldLabel",children:"Number of neigbours:"}),Object(L.jsx)("div",{className:"popup__fieldValue",children:s})]}),Object(L.jsx)("div",{className:"popup__badges",children:l.map((function(e){return Object(L.jsx)("div",{className:"popup__badge",children:e},e)}))})]})]}),Object(L.jsxs)("div",{className:"popup__footer",children:[Object(L.jsx)(rt,{text:"Geojson",className:"popup__",onClick:u,icon:F.e}),Object(L.jsx)(nt,{className:"popup__iconButton",to:"/country/".concat(a),icon:F.m})]})]})},it=Object(a.memo)(ot),st=(n(360),function(e){var t=e.hasEntered,n=e.x,c=e.y,a=e.country;return Object(L.jsx)(A,{show:t,x:n,y:c,children:a?Object(L.jsxs)("div",{className:"geoObject",children:[Object(L.jsx)("div",{children:Object(L.jsx)("img",{className:"geoObject__image",src:j+a.flagUrl})}),Object(L.jsxs)("div",{className:"geoObject__info",children:[Object(L.jsxs)("div",{children:["Country: ",a.fullName]}),Object(L.jsxs)("div",{children:["Capital: ",a.capital]})]})]}):null})}),lt=(n(361),function(e){var t=e.onMouseEnter,n=e.onMouseLeave,c=e.onMouseMove,r=e.onClick,o=e.svg,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=i.current;if(e){var a=e.firstChild;if(a instanceof SVGElement){var o=a.querySelector("g"),s=o.getBoundingClientRect(),l=s.x;s.y,s.width,s.height;o.style.transform="translate(-".concat(l/2,"px, 0)");var u=function(e){e.preventDefault()};return a.addEventListener("mousemove",c),a.addEventListener("mouseenter",t),a.addEventListener("mouseleave",n),a.addEventListener("click",r),a.addEventListener("contextmenu",u),function(){a.removeEventListener("mousemove",c),a.removeEventListener("mouseenter",t),a.removeEventListener("mouseleave",n),a.removeEventListener("click",r),a.removeEventListener("contextmenu",u)}}}}),[i]),Object(L.jsx)("div",{className:"country-page__svg",ref:i,dangerouslySetInnerHTML:{__html:o}})}),ut=Object(a.memo)(lt),dt=(n(362),function(){var e,t,n=Object(a.useState)({x:-1,y:-1}),c=Object(s.a)(n,2),r=c[0],o=r.x,i=r.y,l=c[1],b=Object(a.useState)(),p=Object(s.a)(b,2),f=p[0],v=p[1],g=Object(a.useState)(""),m=Object(s.a)(g,2),x=m[0],h=m[1],_=Object(a.useState)(!1),y=Object(s.a)(_,2),w=y[0],N=y[1],S=Object(a.useState)(!0),k=Object(s.a)(S,2),C=k[0],E=k[1],M=Object(a.useState)(),T=Object(s.a)(M,2),D=T[0],B=T[1],P=Object(a.useState)([]),A=Object(s.a)(P,2),R=A[0],z=A[1],I=Object(a.useCallback)((function(e){var t=e.target;if(t instanceof SVGElement){f&&f.element.classList.toggle("selected");var n,c=t.id.toLowerCase();if(c){n=R.find((function(e){return e.id===c})),t.classList.toggle("selected");var a=t.getBoundingClientRect();a.x,a.y,a.width,a.height;v({element:t,item:n,center:[e.clientX-100,e.clientY-100]})}}}),[R,f]),F=Object(a.useCallback)((function(e){l({x:e.clientX,y:e.clientY});var t=e.target;if(t instanceof SVGElement){var n=t.id.toLowerCase();if(n){var c=R.find((function(e){return e.id===n}));B(c||void 0)}else B(void 0)}else B(void 0)}),[R]),G=Object(a.useCallback)((function(){N(!0)}),[]),Y=Object(a.useCallback)((function(){N(!1)}),[]);Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(j,"/assets/shapes/world.svg")).then((function(e){return e.text()}));case 2:t=e.sent,h(t),E(!1);case 5:case"end":return e.stop()}}),e)})))()}),[]);return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({phrase:"",pageSize:200});case 2:t=e.sent,z(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(L.jsxs)("div",{className:"world-page ".concat(C?"center":""),children:[C?Object(L.jsx)("div",{className:"world-page__loader",children:Object(L.jsx)(ze.GridLoader,{color:"white",size:15})}):Object(L.jsx)(ut,{onMouseEnter:G,onMouseLeave:Y,onMouseMove:F,onClick:I,svg:x}),Object(L.jsx)(st,{hasEntered:D&&w&&(null===f||void 0===f||null===(e=f.item)||void 0===e?void 0:e.id)!==D.id||!1,country:D,x:o,y:i}),"country"===(null===f||void 0===f||null===(t=f.item)||void 0===t?void 0:t.type)?Object(L.jsx)(it,Object(H.a)(Object(H.a)({onExport:function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=f.item,e.next=4,c=t.countryCode,"".concat(j,"/assets/geojson/").concat(c,".geojson");case 4:n=e.sent,_e(n,"".concat(t.countryCode,".json")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$e.NotificationManager.error("We could not find geojson for country","Download error.");case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})))()}},f.item),{},{center:f.center})):null]})}),jt=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(){return c(!1)};return Object(L.jsxs)("div",{className:"app",children:[Object(L.jsx)(X,{onSearch:function(){return c(!0)}}),Object(L.jsx)(re,{onHide:r,onClick:r,isShowing:n}),Object(L.jsxs)(k.c,{children:[Object(L.jsx)(k.a,{exact:!0,path:"/",component:dt}),Object(L.jsx)(k.a,{exact:!0,path:"/explore",component:Qe}),Object(L.jsx)(k.a,{exact:!0,path:"/draw",component:Ae}),Object(L.jsx)(k.a,{exact:!0,path:"/country/:countryCode",component:W})]}),Object(L.jsx)($e.NotificationContainer,{})]})};n(363),n(364);i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(U.a,{children:Object(L.jsx)(jt,{})})}),document.getElementById("root"))},87:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},98:function(e,t,n){}},[[365,1,2]]]);
//# sourceMappingURL=main.3ac3268c.chunk.js.map